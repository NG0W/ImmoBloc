CREATE DATABASE IF NOT EXISTS "ImmoBloc";

CREATE TABLE IF NOT EXISTS public.agencies
(
    id integer NOT NULL,
    name character varying(45) COLLATE pg_catalog."default" NOT NULL,
    code character varying(45) COLLATE pg_catalog."default",
    CONSTRAINT agencies_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.assets
(
    id integer NOT NULL,
    name character varying(45) COLLATE pg_catalog."default" NOT NULL,
    id_agency integer NOT NULL,
    id_status integer NOT NULL,
    value integer NOT NULL,
    max_refunds integer NOT NULL,
    CONSTRAINT assets_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.documents
(
    id integer NOT NULL,
    id_asset integer NOT NULL,
    name character varying(45) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT documents_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.offers
(
    id integer NOT NULL,
    id_user integer NOT NULL,
    id_asset integer NOT NULL,
    id_status integer NOT NULL,
    value integer NOT NULL,
    CONSTRAINT offers_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.payments
(
    id integer NOT NULL,
    name character varying(45) COLLATE pg_catalog."default",
    id_status integer NOT NULL,
    id_asset integer NOT NULL,
    id_user integer NOT NULL,
    value integer NOT NULL,
    due_date date NOT NULL,
    CONSTRAINT payments_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.users
(
    id integer NOT NULL,
    id_status integer NOT NULL,
    id_agency integer,
    name character varying(45) COLLATE pg_catalog."default" NOT NULL,
    surname character varying(45) COLLATE pg_catalog."default" NOT NULL,
    mail character varying(45) COLLATE pg_catalog."default" NOT NULL,
    age date,
    address character varying(45) COLLATE pg_catalog."default",
    salary integer NOT NULL,
    contrat_type integer NOT NULL,
    validated boolean NOT NULL DEFAULT false,
    CONSTRAINT users_pkey PRIMARY KEY (id)
);